{% extends "bootstrap/base.html" %}
{% block title %}ToDo List REST client{% endblock %}

{% block navbar %}
{% endblock %}

{% block content %}
    <div class="container">
        <h1>ToDo List REST client</h1>
        <div class="jumbotron">
            <h2>Your tasks</h2>
        </div>
        <form id="filter-tasks" action="#" method="get" class="form-inline">
            <div class="form-group">
                <label>Insert the substring for filtering tasks:</label>
                <input type="text" name="search_substring" class="form-control">
            </div>
            <input type="submit" value="Filter" class="btn btn-primary">
        </form>
        <table class="table table-striped table-condensed" id="task-list">
            <tr>
                <th>Task</th>
                <th>Urgent</th>
            </tr>
        </table>

        <form id="add-task" action="#" method="post" class="form-inline">
            <div class="form-group">
                <label>Insert a new task:</label>
                <input type="text" name="description" class="form-control">
            </div>
            <div class="checkbox">
                <input type="checkbox" name="urgent"> Urgent
            </div>
            <input type="submit" value="Enter" class="btn btn-primary">
        </form>
    </div>

      <!-- Modal -->
      <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
          <div class="modal-dialog" role="document">
              <div class="modal-content">
                  <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                      <h4 class="modal-title" id="myModalLabel">Update a task</h4>
                  </div>
                  <div class="modal-body">
                      <form id="update-task" action="#" method="post"></form>
                          <input id="task_id" type="hidden">
                          Description: <input id="description" type="text" name="description"><br />
                          Urgent: <input id="urgent" type="checkbox" name="urgent"><br />
                      </form>
                  </div>
                  <div class="modal-footer">
                      <button type="button" class="btn btn-default" data-dismiss="modal">Chiudi</button>
                      <button type="button" class="btn btn-primary" onclick="update_task();">Update the task</button>
                  </div>
              </div>
          </div>
      </div>
{% endblock %}

{% block scripts %}
    {{super()}}
    <script src="{{ url_for('static', filename='js/todoapp.js') }}"></script>
{% endblock %}